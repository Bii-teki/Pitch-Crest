{"ast":null,"code":"import _slicedToArray from\"/home/bii/pitch-crest-v2/Pitch-Crest/clients/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NewPost(_ref){var users_id=_ref.users_id,addProject=_ref.addProject;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(users_id),_useState6=_slicedToArray(_useState5,2),user_id=_useState6[0],setUser_id=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),investor_id=_useState8[0],setInvestor_id=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),description=_useState10[0],setDescription=_useState10[1];function handleSubmit(e){e.preventDefault();console.log({name:name,category:category,user_id:user_id,investor_id:investor_id,description:description});fetch(\"https://pitch-crest.onrender.com/user_investors\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,category:category,user_id:user_id,investor_id:investor_id,description:description})}).then(function(response){return response.json();}).then(function(data){console.log(data);if(data.errors){console.error(\"Error:\",data.errors);alert(\"Error adding the project.\");}else if(data.id){addProject(data);console.log(\"Success:\",data);console.log(\"Success! Investor ID:\",data.id);setName(\"\");setCategory(\"\");setUser_id(\"\");setInvestor_id(1);setDescription(\"\");alert(\"Project added successfully!\");}}).catch(function(error){console.error(\"Error:\",error);alert(\"An error occurred while adding the project.\");});}return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-54 mt-24 border border-blue-500 p-6 rounded-lg text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Add a New Project\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",class:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);},class:\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\",placeholder:\"title\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Category\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"category\",name:\"category\",value:category,onChange:function onChange(e){return setCategory(e.target.value);},class:\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{classNameclassName:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"user_id\",name:\"user_id\",value:user_id,onChange:function onChange(e){return setUser_id(e.target.value);},class:\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"text\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",id:\"investor_id\",name:\"investor_id\",value:investor_id,onChange:function onChange(e){return setInvestor_id(e.target.value);},class:\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\",placeholder:\"Category\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"message\",className:\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",rows:\"4\",value:description,onChange:function onChange(e){return setDescription(e.target.value);},class:\"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\",placeholder:\"Leave a comment...\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\",children:\"Post New Project\"})]})]});}export default NewPost;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","NewPost","_ref","users_id","addProject","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","category","setCategory","_useState5","_useState6","user_id","setUser_id","_useState7","_useState8","investor_id","setInvestor_id","_useState9","_useState10","description","setDescription","handleSubmit","e","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","data","errors","error","alert","id","catch","className","children","onSubmit","htmlFor","class","type","value","onChange","target","placeholder","required","classNameclassName","rows"],"sources":["/home/bii/pitch-crest-v2/Pitch-Crest/clients/src/Components/User/NewPost.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nfunction NewPost({users_id, addProject}) {\n  const [name, setName] = useState(\"\")\n  const [category, setCategory] = useState(\"\")\n  const [user_id, setUser_id] = useState(users_id)\n  const [investor_id, setInvestor_id] = useState(1)\n  const [description, setDescription] = useState(\"\")\n \n  function handleSubmit(e) {\n    e.preventDefault();\n    \n    console.log({\n      name,\n      category,\n      user_id,\n      investor_id,\n      description,\n    });\n    \n  \n    fetch(\"https://pitch-crest.onrender.com/user_investors\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: name,\n        category: category,\n        user_id: user_id,\n        investor_id: investor_id,\n        description: description,\n      }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(data);\n        if (data.errors) {  \n          \n          \n\n          console.error(\"Error:\", data.errors);\n          alert(\"Error adding the project.\");\n        } else if(data.id) {\n          addProject(data)\n          console.log(\"Success:\", data);\n          console.log(\"Success! Investor ID:\", data.id);\n          \n          setName(\"\");\n          setCategory(\"\");\n          setUser_id(\"\");\n          setInvestor_id(1);\n          setDescription(\"\");\n        \n          alert(\"Project added successfully!\");\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n        alert(\"An error occurred while adding the project.\");\n      });\n  }\n  \n    return (\n      <div className=\"mb-54 mt-24 border border-blue-500 p-6 rounded-lg text-center\" >\n        <h2 className=\"text-xl font-bold mb-4\">Add a New Project</h2>\n\n        <form onSubmit={handleSubmit}>\n          <div className=\"mb-6\">\n            <label htmlFor=\"text\" class=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Title</label>\n            <input type=\"text\" id=\"name\" value={name} onChange={(e) => setName(e.target.value)}class=\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\" placeholder=\"title\" required />\n          </div>\n          <div className=\"mb-6\">\n            \n            <label htmlFor=\"text\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Category</label>\n            <input type=\"text\" id=\"category\" name=\"category\" value={category} onChange={(e) => setCategory(e.target.value)} class=\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\" required />\n          </div>\n          <div classNameclassName=\"mb-6\">\n            <label htmlFor=\"text\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"></label>\n            <input type=\"hidden\" id=\"user_id\" name=\"user_id\" value={user_id} onChange={(e) => setUser_id(e.target.value)} class=\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\" required />\n          </div>\n          <div className=\"mb-6\">\n            <label htmlFor=\"text\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\"></label>\n            <input type=\"hidden\" id=\"investor_id\" name=\"investor_id\" value={investor_id} onChange={(e) => setInvestor_id(e.target.value)} class=\"shadow-sm bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500 dark:shadow-sm-light\" placeholder=\"Category\" required />\n          </div>\n          <div className=\"mb-6\">\n            <label htmlFor=\"message\" className=\"block mb-2 text-sm font-medium text-gray-900 dark:text-white\">Description</label>\n            <textarea id=\"description\" name=\"description\" rows=\"4\"value={description} onChange={(e) => setDescription(e.target.value)} class=\"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\" placeholder=\"Leave a comment...\"></textarea>\n          </div>\n         \n          <button type=\"submit\" className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\">Post New Project</button>\n        </form>\n\n      </div>\n)}\n\nexport default NewPost"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}